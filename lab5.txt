List 05:::

stack name: jakub-stack0

AWS access key id: ***************
AWS secret: ******************************
Default region: eu-central-1
Default output format: json

You have to get your own AWS access credentials.



KUBERNETES:
RabbitMQ:

kubectl apply -f rabbitmq.yaml

kubectl delete sts/rabbitmq-sts svc/rabbitmq-svc


InfluxDB:

kubectl apply -f influxdb.yaml

kubectl delete sts/influxdb-sts svc/influxdb-svc pvc/influxdb-pvc pv/influxdb-pv


MongoDB:

kubectl apply -f mongodb.yaml

kubectl delete sts/mongodb-sts svc/mongodb-svc pvc/mongodb-pvc pv/mongodb-pv


Grafana:

kubectl apply -f grafana.yaml

kubectl delete deploy/grafana-deploy svc/grafana-svc pvc/grafana-pvc pv/grafana-pv

Forward grafana port:
kubectl port-forward grafana-deploy-6cbfb79f98-g7wf5 3000:3000
# Warning! You have to give a right pod name. In this case: grafana-deploy-6cbfb79f98-g7wf5

Launch Grafana: http://127.0.0.1:3000/
First logging credentials: [Login: admin; Password: admin]

Grafana InfluxDB connnection:
   Name: myinfluxdb
   URL: http://influxdb-svc:8086
   Type: proxy
   Database: celery


Redash:

kubectl apply -f redash.yaml

kubectl delete deploy/redash-deploy sts/postgres-sts svc/postgres svc/redash-svc svc/redis job/redash-job cm/postgres-cm cm/redash-cm pvc/postgres-pvc pv/postgres-pv

Forward redash port:
kubectl port-forward redash-deploy-7f8ddd9dc7-kgj9k 5000:5000
# Warning! You have to give a right pod name. In this case: redash-deploy-7f8ddd9dc7-kgj9k

Launch Redash: http://127.0.0.1:5000/
First logging credentials: [Login: admin; E-mail: admin@admin.com, Password: admin1]

Redash MongoDB connnection:
   Name: mymongodb
   Connection String: mongodb://mongodb-svc:27017/reddits
   Database Name: reddits

Simple counting redash query:
{
	"collection": "submissions",
	"count": true
}


HELM:

